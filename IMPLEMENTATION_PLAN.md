# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ–∑–≤–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è NIMeet

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º WebRTC, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –∫–æ–º–Ω–∞—Ç–∞–º –ø–æ —Å—Å—ã–ª–∫–µ.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- React 18+ —Å TypeScript
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- React Router –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- WebRTC API –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤ –º–µ–¥–∏–∞
- Socket.io-client –¥–ª—è real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

**Backend:**
- Node.js —Å Express
- Socket.io –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ WebRTC
- MongoDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

---

## –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

### 1.1 Frontend (React + TypeScript + Tailwind)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å TypeScript:
   ```bash
   cd frontend
   npx create-react-app . --template typescript
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install react-router-dom socket.io-client
   npm install -D tailwindcss postcss autoprefixer
   npm install @types/react-router-dom
   ```

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Tailwind CSS:
   ```bash
   npx tailwindcss init -p
   ```
   - –û–±–Ω–æ–≤–∏—Ç—å `tailwind.config.js`
   - –î–æ–±–∞–≤–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—ã Tailwind –≤ `index.css`

4. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
   ```
   frontend/
   ‚îú‚îÄ‚îÄ src/
   ‚îÇ   ‚îú‚îÄ‚îÄ components/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ call/
   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VideoGrid.tsx
   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VideoTile.tsx
   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ControlPanel.tsx
   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MediaControls.tsx
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/
   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.tsx
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterPage.tsx
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.tsx
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CallPage.tsx
   ‚îÇ   ‚îú‚îÄ‚îÄ services/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webrtcService.ts
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socketService.ts
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authService.ts
   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useWebRTC.ts
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useMediaDevices.ts
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts
   ‚îÇ   ‚îú‚îÄ‚îÄ types/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.types.ts
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ call.types.ts
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stream.types.ts
   ‚îÇ   ‚îú‚îÄ‚îÄ context/
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx
   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
   ‚îÇ       ‚îî‚îÄ‚îÄ constants.ts
   ```

### 1.2 Backend (Node.js + Express + Socket.io)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Node.js –ø—Ä–æ–µ–∫—Ç:
   ```bash
   cd backend
   npm init -y
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install express socket.io mongoose bcrypt jsonwebtoken cors dotenv
   npm install -D nodemon
   ```

3. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
   ```
   backend/
   ‚îú‚îÄ‚îÄ src/
   ‚îÇ   ‚îú‚îÄ‚îÄ config/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ socket.js
   ‚îÇ   ‚îú‚îÄ‚îÄ models/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.js
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Room.js
   ‚îÇ   ‚îú‚îÄ‚îÄ routes/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.js
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ roomRoutes.js
   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authController.js
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ roomController.js
   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authMiddleware.js
   ‚îÇ   ‚îú‚îÄ‚îÄ services/
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ webrtcSignaling.js
   ‚îÇ   ‚îî‚îÄ‚îÄ server.js
   ‚îú‚îÄ‚îÄ .env
   ‚îî‚îÄ‚îÄ package.json
   ```

4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –≤ `package.json`:
   ```json
   {
     "scripts": {
       "start": "node src/server.js",
       "dev": "nodemon src/server.js"
     }
   }
   ```

---

## –≠—Ç–∞–ø 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 2.1 Backend - –ú–æ–¥–µ–ª–∏ –∏ API

**–ú–æ–¥–µ–ª—å User (models/User.js):**
- `username`: —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `email`: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π email
- `password`: —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `createdAt`: –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**API Endpoints:**
- `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –≤—Ö–æ–¥
- `GET /api/auth/me` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å User —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–∞
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
4. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å JWT —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ –≤—Ö–æ–¥–µ
5. –°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤

### 2.2 Frontend - –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. `LoginPage.tsx`:
   - –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ email/password
   - –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞
   - –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. `RegisterPage.tsx`:
   - –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ username/email/password
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
   - –ö–Ω–æ–ø–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥

3. `AuthContext.tsx`:
   - –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –ú–µ—Ç–æ–¥—ã login/logout/register
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. `useAuth.ts`:
   - –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤:**
- –°–æ–∑–¥–∞—Ç—å `ProtectedRoute` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

---

## –≠—Ç–∞–ø 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç (Rooms)

### 3.1 Backend - –ú–æ–¥–µ–ª—å –∏ API –∫–æ–º–Ω–∞—Ç

**–ú–æ–¥–µ–ª—å Room (models/Room.js):**
- `roomId`: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `ownerId`: ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –∫–æ–º–Ω–∞—Ç—ã
- `createdAt`: –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `participants`: –º–∞—Å—Å–∏–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)

**API Endpoints:**
- `POST /api/rooms/create` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–Ω–∞—Ç—ã (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π)
- `GET /api/rooms/:roomId` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–Ω–∞—Ç–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Room
2. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π roomId (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UUID)
3. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ –∫–æ–º–Ω–∞—Ç—ã
4. –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### 3.2 Frontend - Dashboard

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç DashboardPage.tsx:**
1. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫":
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã
   - –ü–æ–ª—É—á–∞–µ—Ç roomId
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/call/:roomId`
3. –ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ ID –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å Tailwind:**
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, —á–∏—Å—Ç—ã–π –¥–∏–∑–∞–π–Ω
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- –ö—Ä–∞—Å–∏–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ –∫–∞—Ä—Ç–æ—á–∫–∏

---

## –≠—Ç–∞–ø 4: WebRTC —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Socket.io

### 4.1 Backend - Socket.io —Å–µ—Ä–≤–µ—Ä

**–§–∞–π–ª: services/webrtcSignaling.js**

**–°–æ–±—ã—Ç–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

1. **`join-room`**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ
   - –î–æ–±–∞–≤–∏—Ç—å socket –≤ –∫–æ–º–Ω–∞—Ç—É
   - –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ –Ω–æ–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–µ–∫—É—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

2. **`offer`**: –û—Ç–ø—Ä–∞–≤–∫–∞ WebRTC offer
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å offer –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É

3. **`answer`**: –û—Ç–ø—Ä–∞–≤–∫–∞ WebRTC answer
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å answer –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é offer

4. **`ice-candidate`**: –û–±–º–µ–Ω ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –ø–∏—Ä—É

5. **`disconnect`**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–∫–∏–Ω—É–ª –∫–æ–º–Ω–∞—Ç—É
   - –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –£–¥–∞–ª–∏—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö

6. **`toggle-media`**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–¥–∏–∞
   - –£–≤–µ–¥–æ–º–∏—Ç—å –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ –≤–∫–ª—é—á–µ–Ω–∏–∏/–≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã/–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```javascript
{
  rooms: {
    [roomId]: {
      participants: [
        {
          socketId: string,
          userId: string,
          username: string,
          mediaState: {
            camera: boolean,
            microphone: boolean,
            screen: boolean
          }
        }
      ]
    }
  }
}
```

### 4.2 Frontend - Socket.io –∫–ª–∏–µ–Ω—Ç

**–§–∞–π–ª: services/socketService.ts**

**–ú–µ—Ç–æ–¥—ã:**
1. `connect()` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
2. `joinRoom(roomId, userData)` - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ
3. `leaveRoom(roomId)` - –≤—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã
4. `sendOffer(targetSocketId, offer)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ offer
5. `sendAnswer(targetSocketId, answer)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ answer
6. `sendIceCandidate(targetSocketId, candidate)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
7. `toggleMedia(roomId, mediaType, enabled)` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–º–µ–Ω–µ –º–µ–¥–∏–∞

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π:**
- `user-joined` - –Ω–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫
- `user-left` - —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–∫–∏–Ω—É–ª –∫–æ–º–Ω–∞—Ç—É
- `receive-offer` - –ø–æ–ª—É—á–µ–Ω offer
- `receive-answer` - –ø–æ–ª—É—á–µ–Ω answer
- `receive-ice-candidate` - –ø–æ–ª—É—á–µ–Ω ICE –∫–∞–Ω–¥–∏–¥–∞—Ç
- `media-toggled` - —É—á–∞—Å—Ç–Ω–∏–∫ –∏–∑–º–µ–Ω–∏–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–¥–∏–∞

---

## –≠—Ç–∞–ø 5: WebRTC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 5.1 Frontend - WebRTC —Å–µ—Ä–≤–∏—Å

**–§–∞–π–ª: services/webrtcService.ts**

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RTCPeerConnection:**
```typescript
const configuration = {
  iceServers: [
    { urls: 'stun:stun.l.google.com:19302' },
    { urls: 'stun:stun1.l.google.com:19302' }
  ]
};
```

**–ö–ª–∞—Å—Å WebRTCService:**

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `peerConnections: Map<string, RTCPeerConnection>` - –∫–∞—Ä—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- `localStream: MediaStream | null` - –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
- `remoteStreams: Map<string, MediaStream>` - —É–¥–∞–ª–µ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏

**–ú–µ—Ç–æ–¥—ã:**

1. **`initializeLocalStream(constraints)`**:
   - –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ/–º–∏–∫—Ä–æ—Ñ–æ–Ω—É —á–µ—Ä–µ–∑ `getUserMedia()`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è –±–µ–∑ –∫–∞–º–µ—Ä—ã/–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞

2. **`createPeerConnection(remoteSocketId)`**:
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `RTCPeerConnection`
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π:
     - `onicecandidate` - –æ—Ç–ø—Ä–∞–≤–∫–∞ ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
     - `ontrack` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
     - `onconnectionstatechange` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫–∏ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

3. **`createOffer(remoteSocketId)`**:
   - –°–æ–∑–¥–∞—Ç—å offer —á–µ—Ä–µ–∑ `createOffer()`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å offer —á–µ—Ä–µ–∑ Socket.io

4. **`handleOffer(remoteSocketId, offer)`**:
   - –°–æ–∑–¥–∞—Ç—å peer connection –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   - –°–æ–∑–¥–∞—Ç—å answer
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å answer

5. **`handleAnswer(remoteSocketId, answer)`**:
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

6. **`handleIceCandidate(remoteSocketId, candidate)`**:
   - –î–æ–±–∞–≤–∏—Ç—å ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é

7. **`toggleCamera()`**:
   - –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ —Ç—Ä–µ–∫
   - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

8. **`toggleMicrophone()`**:
   - –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∞—É–¥–∏–æ —Ç—Ä–µ–∫
   - –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ

9. **`startScreenShare()`**:
   - –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Ç–æ–∫ —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ `getDisplayMedia()`
   - –ó–∞–º–µ–Ω–∏—Ç—å –≤–∏–¥–µ–æ —Ç—Ä–µ–∫ –≤–æ –≤—Å–µ—Ö peer connections
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ screen share

10. **`stopScreenShare()`**:
    - –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ—Ç–æ–∫—É —Å –∫–∞–º–µ—Ä—ã
    - –ó–∞–º–µ–Ω–∏—Ç—å —Ç—Ä–µ–∫–∏ –≤ peer connections

11. **`closeConnection(remoteSocketId)`**:
    - –ó–∞–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ peer connection
    - –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–∞—Ä—Ç—ã

12. **`cleanup()`**:
    - –ó–∞–∫—Ä—ã—Ç—å –≤—Å–µ peer connections
    - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏

### 5.2 –•—É–∫ useWebRTC

**–§–∞–π–ª: hooks/useWebRTC.ts**

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
```typescript
{
  localStream: MediaStream | null,
  remoteStreams: Map<string, MediaStream>,
  isCameraEnabled: boolean,
  isMicrophoneEnabled: boolean,
  isScreenSharing: boolean,
  toggleCamera: () => void,
  toggleMicrophone: () => void,
  toggleScreenShare: () => void,
  initializeMedia: () => Promise<void>,
  cleanup: () => void
}
```

**–õ–æ–≥–∏–∫–∞:**
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebRTC —Å–µ—Ä–≤–∏—Å–∞
2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–µ–¥–∏–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Socket.io –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/–≤—ã—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5. –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±—Ä–∞–±–æ—Ç–∫–∞ offers/answers –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –≠—Ç–∞–ø 6: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–≤–æ–Ω–∫–∞

### 6.1 CallPage.tsx

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ `callId` –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebRTC –∏ Socket.io
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ VideoGrid –∏ ControlPanel

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```tsx
function CallPage() {
  const { callId } = useParams();
  const {
    localStream,
    remoteStreams,
    isCameraEnabled,
    isMicrophoneEnabled,
    isScreenSharing,
    toggleCamera,
    toggleMicrophone,
    toggleScreenShare,
    initializeMedia,
    cleanup
  } = useWebRTC(callId);

  useEffect(() => {
    initializeMedia();
    return () => cleanup();
  }, []);

  return (
    <div className="call-container">
      <VideoGrid 
        localStream={localStream}
        remoteStreams={remoteStreams}
        isCameraEnabled={isCameraEnabled}
      />
      <ControlPanel
        isCameraEnabled={isCameraEnabled}
        isMicrophoneEnabled={isMicrophoneEnabled}
        isScreenSharing={isScreenSharing}
        onToggleCamera={toggleCamera}
        onToggleMicrophone={toggleMicrophone}
        onToggleScreenShare={toggleScreenShare}
      />
    </div>
  );
}
```

### 6.2 VideoGrid.tsx

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–æ–≤ –≤ —Å–µ—Ç–∫–µ
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ (grid layout)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
```tsx
interface VideoGridProps {
  localStream: MediaStream | null;
  remoteStreams: Map<string, MediaStream>;
  isCameraEnabled: boolean;
}

function VideoGrid({ localStream, remoteStreams, isCameraEnabled }: VideoGridProps) {
  const allStreams = [
    { id: 'local', stream: localStream, isLocal: true },
    ...Array.from(remoteStreams.entries()).map(([id, stream]) => ({
      id,
      stream,
      isLocal: false
    }))
  ];

  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">
      {allStreams.map(({ id, stream, isLocal }) => (
        <VideoTile
          key={id}
          stream={stream}
          isLocal={isLocal}
          isCameraEnabled={isCameraEnabled && isLocal}
        />
      ))}
    </div>
  );
}
```

**–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS Grid —Å Tailwind
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–ª–æ–Ω–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –≤–∏–¥–µ–æ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

### 6.3 VideoTile.tsx

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π –∫–∞–º–µ—Ä–µ
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–í—ã"

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
```tsx
interface VideoTileProps {
  stream: MediaStream | null;
  isLocal: boolean;
  isCameraEnabled?: boolean;
  username?: string;
}

function VideoTile({ stream, isLocal, isCameraEnabled = true, username }: VideoTileProps) {
  const videoRef = useRef<HTMLVideoElement>(null);

  useEffect(() => {
    if (videoRef.current && stream) {
      videoRef.current.srcObject = stream;
    }
  }, [stream]);

  return (
    <div className="relative aspect-video bg-gray-800 rounded-lg overflow-hidden">
      {isCameraEnabled && stream ? (
        <video
          ref={videoRef}
          autoPlay
          playsInline
          muted={isLocal}
          className="w-full h-full object-cover"
        />
      ) : (
        <div className="flex items-center justify-center w-full h-full">
          <div className="w-20 h-20 bg-gray-600 rounded-full flex items-center justify-center">
            <span className="text-3xl text-white">
              {username ? username[0].toUpperCase() : '?'}
            </span>
          </div>
        </div>
      )}
      <div className="absolute bottom-2 left-2 bg-black bg-opacity-50 px-2 py-1 rounded">
        <span className="text-white text-sm">
          {isLocal ? '–í—ã' : username || '–£—á–∞—Å—Ç–Ω–∏–∫'}
        </span>
      </div>
    </div>
  );
}
```

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –ê—Ç—Ä–∏–±—É—Ç `muted` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–µ–æ (–∏–∑–±–µ–∂–∞—Ç—å —ç—Ö–∞)
- –ê—Ç—Ä–∏–±—É—Ç—ã `autoPlay` –∏ `playsInline` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –ó–∞–≥–ª—É—à–∫–∞ —Å –∞–≤–∞—Ç–∞—Ä–æ–º –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–π –∫–∞–º–µ—Ä–µ

### 6.4 ControlPanel.tsx

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ–¥–∏–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã, –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞, screen share
- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
```tsx
interface ControlPanelProps {
  isCameraEnabled: boolean;
  isMicrophoneEnabled: boolean;
  isScreenSharing: boolean;
  onToggleCamera: () => void;
  onToggleMicrophone: () => void;
  onToggleScreenShare: () => void;
}

function ControlPanel({
  isCameraEnabled,
  isMicrophoneEnabled,
  isScreenSharing,
  onToggleCamera,
  onToggleMicrophone,
  onToggleScreenShare
}: ControlPanelProps) {
  const navigate = useNavigate();

  const handleLeaveCall = () => {
    navigate('/dashboard');
  };

  return (
    <div className="fixed bottom-0 left-0 right-0 bg-gray-900 p-4">
      <div className="flex justify-center gap-4">
        <button
          onClick={onToggleMicrophone}
          className={`p-4 rounded-full ${
            isMicrophoneEnabled ? 'bg-gray-700' : 'bg-red-600'
          }`}
        >
          {/* –ò–∫–æ–Ω–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ */}
        </button>
        
        <button
          onClick={onToggleCamera}
          className={`p-4 rounded-full ${
            isCameraEnabled ? 'bg-gray-700' : 'bg-red-600'
          }`}
        >
          {/* –ò–∫–æ–Ω–∫–∞ –∫–∞–º–µ—Ä—ã */}
        </button>
        
        <button
          onClick={onToggleScreenShare}
          className={`p-4 rounded-full ${
            isScreenSharing ? 'bg-blue-600' : 'bg-gray-700'
          }`}
        >
          {/* –ò–∫–æ–Ω–∫–∞ —Å–∫—Ä–∏–Ω—à–∏—Ä–∏–Ω–≥–∞ */}
        </button>
        
        <button
          onClick={handleLeaveCall}
          className="p-4 rounded-full bg-red-600"
        >
          {/* –ò–∫–æ–Ω–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–≤–æ–Ω–∫–∞ */}
        </button>
      </div>
    </div>
  );
}
```

**–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
- –¢–µ–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
- –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ò–∫–æ–Ω–∫–∏ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É react-icons –∏–ª–∏ heroicons)

---

## –≠—Ç–∞–ø 7: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### 7.1 –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ –º–µ–¥–∏–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –í `initializeLocalStream` –æ–±–µ—Ä–Ω—É—Ç—å `getUserMedia` –≤ try-catch
2. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–∞–ª –≤ –¥–æ—Å—Ç—É–ø–µ –∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:
   - –°–æ–∑–¥–∞—Ç—å "–ø—É—Å—Ç–æ–π" MediaStream
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥–∏ `isCameraEnabled` –∏ `isMicrophoneEnabled` –≤ false
   - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
3. –í `createPeerConnection` –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ–∫–æ–≤ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º

### 7.2 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –Ω–æ–≤—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–º

**–õ–æ–≥–∏–∫–∞ –≤ useWebRTC:**
1. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è `user-joined`:
   - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å–æ–∑–¥–∞—Ç—å peer connection
   - –°–æ–∑–¥–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å offer
2. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è `receive-offer`:
   - –°–æ–∑–¥–∞—Ç—å peer connection
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å offer
   - –°–æ–∑–¥–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å answer
3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `ontrack` –¥–æ–±–∞–≤–∏—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –≤ `remoteStreams`

### 7.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π

**–õ–æ–≥–∏–∫–∞:**
1. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ `user-left`:
   - –ó–∞–∫—Ä—ã—Ç—å peer connection —Å —É—à–µ–¥—à–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–º
   - –£–¥–∞–ª–∏—Ç—å –∏–∑ `remoteStreams`
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `onconnectionstatechange`:
   - –ü—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "failed" –∏–ª–∏ "disconnected" –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
   - –ü–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### 7.4 Screen Sharing

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
1. –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ screen share:
   - –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Ç–æ–∫ —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ `getDisplayMedia`
   - –ó–∞–º–µ–Ω–∏—Ç—å –≤–∏–¥–µ–æ —Ç—Ä–µ–∫ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö peer connections –º–µ—Ç–æ–¥–æ–º `replaceTrack`
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ screen share (–∫–Ω–æ–ø–∫–∞ "–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –ø–æ–∫–∞–∑" –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
2. –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏:
   - –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç—Ä–µ–∫—É –∫–∞–º–µ—Ä—ã
   - –ó–∞–º–µ–Ω–∏—Ç—å –≤–æ –≤—Å–µ—Ö peer connections

---

## –≠—Ç–∞–ø 8: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 8.1 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å constraints –¥–ª—è getUserMedia –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–Ω–∏–∂–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

2. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.lazy –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü

3. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo` –∏ `useCallback` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤

### 8.2 UX —É–ª—É—á—à–µ–Ω–∏—è

1. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≥–æ–≤–æ—Ä—è—â–µ–≥–æ (–∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫–∞)
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–ª–æ—Ö–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - Loader –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏/–≤—ã—Ö–æ–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - –í—ã–±–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–∞–º–µ—Ä—ã/–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
   - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –∫–æ–º–Ω–∞—Ç—É

4. **Responsive –¥–∏–∑–∞–π–Ω:**
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

### 8.3 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ backend:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç—ã
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **Rate limiting:**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç

3. **HTTPS:**
   - WebRTC —Ç—Ä–µ–±—É–µ—Ç HTTPS –≤ production
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

---

## –≠—Ç–∞–ø 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 9.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã
   - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ
   - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
   - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
   - Screen sharing
   - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ –º–µ–¥–∏–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏:**
   - –û—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ –±—Ä–∞—É–∑–µ—Ä–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø–æ—Ç–æ–∫–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 9.2 –ö—Ä–æ—Å—Å-–±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- Chrome
- Firefox
- Safari
- Edge

### 9.3 –ú–æ–±–∏–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- iOS Safari
- Android Chrome

---

## –≠—Ç–∞–ø 10: –î–µ–ø–ª–æ–π

### 10.1 Frontend

**–û–ø—Ü–∏–∏:**
1. **Vercel** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è React):
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ Git
   - HTTPS –∏–∑ –∫–æ—Ä–æ–±–∫–∏
   - CDN

2. **Netlify**:
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Vercel
   - –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. –°–æ–∑–¥–∞—Ç—å production build: `npm run build`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API URL)
3. –î–µ–ø–ª–æ–π

### 10.2 Backend

**–û–ø—Ü–∏–∏:**
1. **Heroku**:
   - –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)

2. **DigitalOcean / AWS / Google Cloud**:
   - –ë–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è
   - –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. MongoDB Atlas –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier)
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - Database URL
   - JWT Secret
   - Frontend URL (–¥–ª—è CORS)
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### 10.3 TURN —Å–µ—Ä–≤–µ—Ä (–¥–ª—è production)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- STUN —Å–µ—Ä–≤–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ –≤–æ –≤—Å–µ—Ö —Å–µ—Ç–µ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö (NAT, firewall)
- –ù—É–∂–µ–Ω TURN —Å–µ—Ä–≤–µ—Ä –¥–ª—è relay —Ç—Ä–∞—Ñ–∏–∫–∞

**–†–µ—à–µ–Ω–∏—è:**
1. **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π TURN —Å–µ—Ä–≤–µ—Ä:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å coturn –Ω–∞ VPS
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ RTCPeerConnection config

2. **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
   - Twilio (–ø–ª–∞—Ç–Ω–æ)
   - Xirsys (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier)

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç (MVP):

**–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (frontend/backend)
2. ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥)
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–∞–º
4. ‚úÖ WebRTC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
5. ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å–µ—Ç–∫–∞ –≤–∏–¥–µ–æ
6. ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π –∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º
7. ‚úÖ Socket.io —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
8. Screen sharing
9. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏–π
10. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ –º–µ–¥–∏–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
11. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
12. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
13. –í—ã–±–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤
14. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º
15. –ò—Å—Ç–æ—Ä–∏—è –∑–≤–æ–Ω–∫–æ–≤
16. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–¥–µ–æ
17. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≥–æ–≤–æ—Ä—è—â–µ–≥–æ

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**Mesh topology (–∫–∞–∂–¥—ã–π —Å –∫–∞–∂–¥—ã–º):**

```
–£—á–∞—Å—Ç–Ω–∏–∫ A                          –°–µ—Ä–≤–µ—Ä                          –£—á–∞—Å—Ç–Ω–∏–∫ B
    |                                  |                                  |
    |--- join-room(roomId) ---------->|                                  |
    |<-- participants: [B] ------------|                                  |
    |                                  |<--- join-room(roomId) -----------|
    |                                  |---- user-joined: A ------------->|
    |                                  |                                  |
    |--- createOffer() ------->        |                                  |
    |--- offer ----------------------->|                                  |
    |                                  |---- offer ---------------------->|
    |                                  |        <----- createAnswer() ----|
    |                                  |<--- answer ----------------------|
    |<-- answer -----------------------|                                  |
    |                                  |                                  |
    |--- ICE candidates -------------->|---- ICE candidates ------------->|
    |<-- ICE candidates ---------------|<--- ICE candidates --------------|
    |                                  |                                  |
    |<==================== –ü—Ä—è–º–æ–µ P2P —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ======================>|
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞

```typescript
interface Participant {
  socketId: string;
  userId: string;
  username: string;
  mediaState: {
    camera: boolean;
    microphone: boolean;
    screen: boolean;
  };
}

interface RemoteStream {
  participantId: string;
  stream: MediaStream;
  username: string;
  mediaState: {
    camera: boolean;
    microphone: boolean;
    screen: boolean;
  };
}
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MediaStream

```typescript
const cameraConstraints: MediaStreamConstraints = {
  video: {
    width: { ideal: 1280 },
    height: { ideal: 720 },
    frameRate: { ideal: 30 }
  },
  audio: {
    echoCancellation: true,
    noiseSuppression: true,
    autoGainControl: true
  }
};

const screenConstraints: DisplayMediaStreamConstraints = {
  video: {
    cursor: 'always'
  },
  audio: false
};
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–æ–±–ª–µ–º–∞: ICE candidates –Ω–µ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Socket.io —Å–æ–±—ã—Ç–∏—è –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö socket —Å–æ–±—ã—Ç–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ `targetSocketId`
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### 2. –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–µ–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `srcObject`
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `autoPlay` –∞—Ç—Ä–∏–±—É—Ç–∞
- Stream –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏–¥–µ–æ —Ç—Ä–µ–∫–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–µ–∫–æ–≤: `stream.getVideoTracks()`
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –Ω–∞ video —ç–ª–µ–º–µ–Ω—Ç
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ constraints –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

### 3. –ü—Ä–æ–±–ª–µ–º–∞: –≠—Ö–æ –≤ –∞—É–¥–∏–æ

**–ü—Ä–∏—á–∏–Ω–∞:** –õ–æ–∫–∞–ª—å–Ω—ã–π stream –Ω–µ muted

**–†–µ—à–µ–Ω–∏–µ:**
- –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å `muted` –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–µ–æ

### 4. –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ NAT

**–ü—Ä–∏—á–∏–Ω–∞:** –ù—É–∂–µ–Ω TURN —Å–µ—Ä–≤–µ—Ä

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å TURN —Å–µ—Ä–≤–µ—Ä –≤ ICE configuration
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π TURN –∏–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–≤–æ–π

### 5. –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–æ—Ö–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:** Mesh topology - –∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç N-1 –ø–æ—Ç–æ–∫–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ 6-8)
- –î–ª—è –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SFU (Selective Forwarding Unit) –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –°–Ω–∏–∑–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ MVP

1. **–ß–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤

2. **–ó–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤:**
   - –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

3. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–æ–Ω—ã:**
   - –†–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞
   - –ó–∞–º–µ–Ω–∞ —Ñ–æ–Ω–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

4. **–†–µ–∞–∫—Ü–∏–∏:**
   - –≠–º–æ–¥–∑–∏ —Ä–µ–∞–∫—Ü–∏–∏
   - –ü–æ–¥–Ω—è—Ç–∏–µ —Ä—É–∫–∏

5. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–º–Ω–∞—Ç—ã)
   - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º

6. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:**
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–æ–≤
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

---

## –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

- **–≠—Ç–∞–ø 1-2 (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è):** 8-12 —á–∞—Å–æ–≤
- **–≠—Ç–∞–ø 3 (–ö–æ–º–Ω–∞—Ç—ã):** 4-6 —á–∞—Å–æ–≤
- **–≠—Ç–∞–ø 4-5 (WebRTC + –°–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è):** 16-24 —á–∞—Å–∞
- **–≠—Ç–∞–ø 6 (UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã):** 12-16 —á–∞—Å–æ–≤
- **–≠—Ç–∞–ø 7 (–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏):** 8-12 —á–∞—Å–æ–≤
- **–≠—Ç–∞–ø 8-9 (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è + –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):** 8-12 —á–∞—Å–æ–≤
- **–≠—Ç–∞–ø 10 (–î–µ–ø–ª–æ–π):** 4-8 —á–∞—Å–æ–≤

**–û–±—â–µ–µ –≤—Ä–µ–º—è –¥–ª—è MVP:** 60-90 —á–∞—Å–æ–≤

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Å–ø–µ–∫—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–≤. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —ç—Ç–∞–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –ù–∞—á–Ω–∏—Ç–µ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∑–∞—Ç–µ–º —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –∫–æ–º–Ω–∞—Ç—ã, WebRTC –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mesh topology –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã (–¥–æ 6-8 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- Socket.io –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ WebRTC
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –≤—Å–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–Ω–µ—Ç –∫–∞–º–µ—Ä—ã, –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∏ —Ç.–¥.)
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TURN —Å–µ—Ä–≤–µ—Ä –≤ production –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

–£–¥–∞—á–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üöÄ

